unified-delay: true
tcp-concurrent: true
global-client-fingerprint: chrome

# å—…æ¢
sniffer:
  enable: true
  sniff:
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true
    TLS:
      ports: [443, 8443]
    QUIC:
      ports: [443, 8443]
  skip-domain:
    - "Mijia Cloud"
    - "dlg.io.mi.com"
    - "+.push.apple.com"
    - "+.apple.com"
  skip-dst-address:
    - "10.0.0.0/8"
    - "172.16.0.0/16"

# æœºåœºè®¢é˜…
proxy-providers:
  è®¢é˜…åç§°:
    type: http
    url: "https://xxxxxx/subscribe?token=11111111111111111111111111111&flag=clash&flag=meta&types=all"
    interval: 3600
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204

# èŠ‚ç‚¹ä¿¡æ¯
proxies:

# å‡ºç«™ç­–ç•¥
# æ³¨æ„é”šç‚¹å¿…é¡»æ”¾åœ¨å¼•ç”¨çš„ä¸Šæ–¹ï¼Œå¯ä»¥é›†ä¸­æŠŠé”šç‚¹å…¨éƒ¨æ”¾yamlçš„é¡¶éƒ¨ã€‚
pr: &pr {type: select, proxies: [ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹, ğŸ ç‰¹æ®ŠèŠ‚ç‚¹, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, DIRECT]}

proxy-groups:
  - {name: ğŸŒ å…¨çƒåŠ é€Ÿ, <<: *pr}
  - {name: ğŸ¤– è°·æ­ŒæœåŠ¡, <<: *pr}
  - {name: ğŸ“º æ¸¯å°ç•ªå‰§, type: select, proxies: [DIRECT, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹]}
  - {name: ğŸï¸ å›½é™…åª’ä½“, <<: *pr}
  - {name: ğŸ›©ï¸ ç”µæŠ¥ä»£ç†, <<: *pr}
  - {name: ğŸ‘¾ Ai, type: select, proxies: [DIRECT,  ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹]}
  - {name: ğŸ’¿ Embyåˆ†æµ, <<: *pr}
  - {name: ğŸŸ é»‘ç™½åå•, <<: *pr}

  - {name: ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, type: url-test, include-all: true, tolerance: 20, interval: 300, filter: "(?=.*(æ¸¯|HK|(?i)Hong))^((?!(å°|æ—¥|éŸ©|å¡|ç¾)).)*$"}
  - {name: ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, type: url-test, include-all: true, tolerance: 20, interval: 300, filter: "(?=.*(ç¾|US|(?i)States|America))^((?!(æ¸¯|å°|æ—¥|éŸ©|å¡)).)*$"}
  - {name: ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, type: url-test, include-all: true, tolerance: 20, interval: 300, filter: "(?=.*(éŸ©|KR|(?i)Korea))^((?!(æ¸¯|å°|æ—¥|å¡|ç¾)).)*$"}
  - {name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, type: url-test, include-all: true, tolerance: 20, interval: 300, filter: "(?=.*(æ—¥|JP|(?i)Japan))^((?!(æ¸¯|å°|éŸ©|å¡|ç¾)).)*$" }
  - {name: ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, type: url-test, include-all: true, tolerance: 20, interval: 300, filter: "(?=.*(æ–°åŠ å¡|ç‹®|ç…|SG|(?i)Singapore))^((?!(æ¸¯|å°|æ—¥|éŸ©|ç¾)).)*$"}
  - {name: ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹, type: url-test, include-all: true, tolerance: 20, interval: 300, filter: "(?=.*(å°|TW|(?i)Taiwan))^((?!(æ¸¯|æ—¥|éŸ©|å¡|ç¾)).)*$"}
  - {name: ğŸ ç‰¹æ®ŠèŠ‚ç‚¹, type: select, include-all: true, tolerance: 20, interval: 300, filter: "^(?!.*(æµé‡|åˆ°æœŸ|åŸŸå|å‰©ä½™|æ¸¯|å°|æ—¥|éŸ©|å¡|ç¾|HK|US|TW|JP|KR|SG|Hong|Tai|Japan|Korea|Singapore|States))"}
  - {name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©, type: url-test, include-all: true, tolerance: 20, interval: 300}

# è§„åˆ™é›†
rule-anchor:
  surge: &surge {type: http, interval: 86400, behavior: classical, format: text}

rule-providers:
  direct_plus: { <<: *surge, url: "https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Direct+.list" }
  streaming_international: { <<: *surge, url: "https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/Streaming/!CN.list" }
  streaming_hk_tw: { <<: *surge, url: "https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/Streaming/CN.list" }
  google_voice: { <<: *surge, url: "https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/Google/GoogleVoice.list" }  
  google_services1: { <<: *surge, url: "https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/Google/Chromecast.list" }
  google_services2: { <<: *surge, url: "https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/Google/GoogleDrive.list" }
  google_services3: { <<: *surge, url: "https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/Google/GoogleSearch.list" }
  emby1: { <<: *surge, url: "https://raw.githubusercontent.com/ddgksf2013/Filter/refs/heads/master/Emby.list" }
  emby2: { <<: *surge, url: "https://raw.githubusercontent.com/Ikeltis/rule/refs/heads/main/ruleset/Emby.list" }
  telegram: { <<: *surge, url: "https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/Telegram.list" }
  global_acceleration: { <<: *surge, url: "https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Proxy.list" }
  direct_conners: { <<: *surge, url: "https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Direct.list" }
  wechat: { <<: *surge, url: "https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/WeChat.list" }
  Ai: {<<: 8surge, url: "https://raw.githubusercontent.com/liandu2024/clash/refs/heads/main/list/AI.list" }

# è§„åˆ™åŒ¹é…
# æ­¤è§„åˆ™éƒ¨åˆ†æ²¡æœ‰åšé˜²æ³„éœ²å¤„ç†ï¼Œå› ä¸ºå¼Šä¸¥é‡å¤§äºåˆ©ï¼
rules:
  - RULE-SET,direct_plus,DIRECT
  - RULE-SET,streaming_international,ğŸï¸ å›½é™…åª’ä½“
  - RULE-SET,streaming_hk_tw,ğŸ“º æ¸¯å°ç•ªå‰§
  - RULE-SET,google_voice,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
  - RULE-SET,google_services1,ğŸ¤– è°·æ­ŒæœåŠ¡
  - RULE-SET,google_services2,ğŸ¤– è°·æ­ŒæœåŠ¡
  - RULE-SET,google_services3,ğŸ¤– è°·æ­ŒæœåŠ¡
  - RULE-SET,emby1,ğŸ’¿ Embyåˆ†æµ
  - RULE-SET,emby2,ğŸ’¿ Embyåˆ†æµ
  - RULE-SET,telegram,ğŸ›©ï¸ ç”µæŠ¥ä»£ç†
  - RULE-SET,global_acceleration,ğŸŒ å…¨çƒåŠ é€Ÿ
  - RULE-SET,direct_conners,DIRECT
  - RULE-SET,wechat,DIRECT
  - GEOIP,CN,DIRECT
  - MATCH,ğŸŸ é»‘ç™½åå•
